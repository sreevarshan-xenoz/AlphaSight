# =============================================================================
# NIFTY 50 ML Pipeline Configuration
# =============================================================================
# Copy this file to .env and configure with your actual values

# =============================================================================
# Environment Settings
# =============================================================================
ENVIRONMENT=production                    # development, staging, production
DEBUG=false                              # Enable debug mode
VERSION=1.0.0                           # Application version

# =============================================================================
# API Configuration
# =============================================================================

# Economic Times API
ECONOMIC_TIMES_API_KEY=your_api_key_here
ECONOMIC_TIMES_API_BASE_URL=https://economictimes.indiatimes.com
ECONOMIC_TIMES_TIMEOUT=30
ECONOMIC_TIMES_MAX_RETRIES=3

# NSE API Configuration
NSE_API_KEY=your_nse_api_key_here
NSE_API_BASE_URL=https://www.nseindia.com
NSE_API_TIMEOUT=30
NSE_MAX_RETRIES=3
API_BASE_DELAY=1.0

# =============================================================================
# Data Configuration
# =============================================================================

# Data Retention
DATA_RETENTION_DAYS=365                  # Rolling window size
NEWS_RELEVANCE_DAYS=30                   # News relevance window
CACHE_TTL_HOURS=24                       # Cache time-to-live

# Storage Settings
DATA_PATH=data                           # Base data directory
STORAGE_FORMAT=parquet                   # parquet, csv, json
COMPRESSION=snappy                       # snappy, gzip, lz4
ENABLE_CACHING=true                      # Enable data caching
CACHE_SIZE_MB=500                        # Maximum cache size

# Data Quality
ENABLE_DATA_VALIDATION=true              # Enable data validation
MIN_DATA_QUALITY_SCORE=0.8              # Minimum quality threshold
HANDLE_MISSING_DATA=interpolate          # interpolate, drop, fill

# =============================================================================
# Model Configuration
# =============================================================================

# Model Paths
MODEL_PATH=models/xgboost_model.pkl
MODEL_BACKUP_PATH=models/backup/
FEATURE_SCALER_PATH=models/feature_scaler.pkl

# XGBoost Parameters
XGBOOST_N_JOBS=1                        # CPU threads (1 for optimization)
XGBOOST_TREE_METHOD=exact               # exact, approx, hist
XGBOOST_MAX_DEPTH=6                     # Tree depth
XGBOOST_N_ESTIMATORS=100                # Number of trees
XGBOOST_LEARNING_RATE=0.1               # Learning rate
XGBOOST_SUBSAMPLE=0.8                   # Row sampling
XGBOOST_COLSAMPLE_BYTREE=0.8            # Column sampling
XGBOOST_RANDOM_STATE=42                 # Random seed
XGBOOST_OBJECTIVE=reg:squarederror      # Objective function
XGBOOST_EVAL_METRIC=rmse                # Evaluation metric

# Model Performance
MAX_INFERENCE_LATENCY_MS=10             # Maximum inference time
MIN_CONFIDENCE_THRESHOLD=0.7            # Minimum prediction confidence
TARGET_ACCURACY=0.8                     # Target directional accuracy
MIN_ACCURACY=0.75                       # Minimum acceptable accuracy

# =============================================================================
# Feature Engineering Configuration
# =============================================================================

# Technical Indicators
RSI_PERIOD=14                           # RSI calculation period
SMA_PERIOD=5                            # Simple moving average period
MACD_FAST=12                            # MACD fast EMA
MACD_SLOW=26                            # MACD slow EMA
MACD_SIGNAL=9                           # MACD signal line

# Sentiment Analysis
SENTIMENT_MODEL=vader                    # vader, textblob, custom
SENTIMENT_BATCH_SIZE=100                # Batch processing size
SENTIMENT_TIMEOUT_SECONDS=30            # Processing timeout
ENABLE_SENTIMENT_CACHING=true           # Cache sentiment scores

# Feature Normalization
NORMALIZATION_METHOD=standard           # standard, minmax, robust
HANDLE_OUTLIERS=clip                    # clip, remove, transform
OUTLIER_THRESHOLD=3.0                   # Standard deviations

# =============================================================================
# Performance Configuration
# =============================================================================

# CPU Settings
CPU_THREADS=1                           # Number of CPU threads
PROCESS_PRIORITY=0                      # Process priority (-20 to 19)

# Memory Settings
MEMORY_LIMIT_GB=4                       # Maximum memory usage
ENABLE_PERFORMANCE_MONITORING=true      # Monitor performance
PERFORMANCE_ALERT_THRESHOLD=15          # Alert threshold (ms)
ACCURACY_ALERT_THRESHOLD=0.75           # Accuracy alert threshold

# =============================================================================
# Logging Configuration
# =============================================================================

# Log Levels
LOG_LEVEL=INFO                          # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_DATE_FORMAT=%Y-%m-%d %H:%M:%S

# Log Files
LOG_FILE=pipeline.log                   # Main log file
ERROR_LOG_FILE=error.log               # Error-specific log
PERFORMANCE_LOG_FILE=performance.log    # Performance metrics log

# Log Rotation
LOG_MAX_SIZE_MB=100                     # Maximum log file size
LOG_BACKUP_COUNT=5                      # Number of backup files
LOG_ROTATION_INTERVAL=daily             # daily, weekly, monthly

# Structured Logging
ENABLE_JSON_LOGGING=false               # Enable JSON log format
LOG_CORRELATION_ID=true                 # Include correlation IDs
LOG_PERFORMANCE_METRICS=true           # Log performance data

# =============================================================================
# Scheduling Configuration
# =============================================================================

# Execution Schedule
EXECUTION_TIME=17:30                    # Daily execution time (HH:MM)
TIMEZONE=Asia/Kolkata                   # Timezone for scheduling
ENABLE_SCHEDULER=true                   # Enable automatic scheduling
SCHEDULE_RETRY_ATTEMPTS=3               # Retry attempts for failed runs

# GitHub Actions
GITHUB_ACTIONS_ENABLED=true             # Enable GitHub Actions scheduling
GITHUB_ACTIONS_CRON=30 12 * * *        # Cron expression (UTC)
GITHUB_ACTIONS_TIMEOUT=30               # Timeout in minutes

# Manual Execution
ALLOW_MANUAL_EXECUTION=true             # Allow manual pipeline runs
MANUAL_EXECUTION_COOLDOWN=300           # Cooldown between manual runs (seconds)

# =============================================================================
# Monitoring and Alerting
# =============================================================================

# Health Checks
ENABLE_HEALTH_CHECKS=true               # Enable health monitoring
HEALTH_CHECK_INTERVAL=300               # Health check interval (seconds)
HEALTH_CHECK_TIMEOUT=10                 # Health check timeout (seconds)

# Alerting
ALERT_EMAIL=admin@example.com           # Email for alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
ENABLE_EMAIL_ALERTS=true                # Enable email notifications
ENABLE_SLACK_ALERTS=true                # Enable Slack notifications

# Metrics Collection
ENABLE_METRICS_COLLECTION=true          # Collect system metrics
METRICS_RETENTION_DAYS=30               # Metrics retention period
METRICS_EXPORT_FORMAT=json              # json, csv, prometheus

# =============================================================================
# Security Configuration
# =============================================================================

# API Security
API_RATE_LIMIT=100                      # Requests per minute
API_RATE_LIMIT_WINDOW=60                # Rate limit window (seconds)
ENABLE_API_KEY_ROTATION=false           # Enable automatic key rotation
API_KEY_ROTATION_DAYS=90                # Key rotation interval

# Data Security
ENCRYPT_SENSITIVE_DATA=false            # Encrypt sensitive data at rest
ENCRYPTION_KEY_PATH=keys/encryption.key # Path to encryption key
ENABLE_DATA_ANONYMIZATION=false         # Anonymize sensitive data

# Access Control
ENABLE_ACCESS_LOGGING=true              # Log access attempts
MAX_LOGIN_ATTEMPTS=5                    # Maximum failed login attempts
LOGIN_LOCKOUT_DURATION=300              # Lockout duration (seconds)

# =============================================================================
# Development Configuration
# =============================================================================

# Development Mode
ENABLE_DEBUG_MODE=false                 # Enable debug features
ENABLE_PROFILING=false                  # Enable performance profiling
ENABLE_MOCK_DATA=false                  # Use mock data for testing
MOCK_DATA_PATH=tests/fixtures/          # Path to mock data

# Testing
RUN_TESTS_ON_STARTUP=false              # Run tests before execution
TEST_DATA_PATH=tests/data/              # Path to test data
ENABLE_INTEGRATION_TESTS=true           # Enable integration tests
TEST_TIMEOUT=300                        # Test timeout (seconds)

# Development Tools
ENABLE_HOT_RELOAD=false                 # Enable hot reloading
ENABLE_DEBUG_TOOLBAR=false              # Enable debug toolbar
DEVELOPMENT_PORT=8000                   # Development server port